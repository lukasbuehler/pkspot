@use "@angular/material" as mat;
@use "./theming/m3-theme" as theme;

@import "../node_modules/bootstrap/dist/css/bootstrap.min.css";

/* You can add global styles to this file, and also import other style files */

button:focus {
  outline: none;
}

html {
  /* Native Safe Area Padding for iOS/Android notch and navigation */
  /* On Android, our MainActivity injects --safe-area-inset-* with correct orientation values.
     On iOS, env() works correctly. We use var() first (for Android), with env() as fallback (for iOS). */

  --status-bar-height: 0px;
  &.native-platform {
    --status-bar-height: 24px;
  }

  padding-top: max(
    var(--safe-area-inset-top, env(safe-area-inset-top, 0px)),
    var(--status-bar-height)
  );
  // padding-bottom: var(--safe-area-inset-bottom, env(safe-area-inset-bottom, 0px));
  padding-left: var(--safe-area-inset-left, env(safe-area-inset-left, 0px));
  padding-right: var(--safe-area-inset-right, env(safe-area-inset-right, 0px));

  /* Ensure padding is included in width calculations to prevent horizontal overflow */
  box-sizing: border-box;
  /* Prevent any horizontal scrolling caused by safe area calculations */
  overflow-x: hidden;
}

body,
html {
  margin: 0;
  height: 100%;
  color: white;

  overscroll-behavior-y: contain;
  position: relative;
  overflow: hidden;
  background-color: var(--mat-app-background-color);

  // Default nav bar height (80px). Changed by mat-toolbar.native-platform to 95px.
  --nav-bar-height: 80px;
  --toolbar-native-extra: 20px;
}

// When nav bar has native-platform class, increase the nav bar height variable globally
body:has(mat-toolbar.native-platform) {
  --nav-bar-height: calc(80px + var(--toolbar-native-extra));
}

// When alain mode is active (presence of #alainMenuButton), there's no bottom nav bar
// so set the nav bar height to 0 to allow the map to extend to the bottom
body:has(#alainMenuButton) {
  --nav-bar-height: 0px;
}

// Removes blue google maps iframe border
.gm-style iframe + div {
  border: none !important;
}

#fh5co-hero .fh5co-overlay {
  background-color: transparent !important;
}

.primary-chips {
  @include mat.chips-color(theme.$dark-theme, $color-variant: primary);
}

.secondary-chips {
  @include mat.chips-color(theme.$dark-theme, $color-variant: secondary);
}

.tertiary-chips {
  @include mat.chips-color(theme.$dark-theme, $color-variant: tertiary);
}

.error-chips {
  @include mat.chips-color(theme.$dark-theme, $color-variant: error);
}

.mdc-button__label,
.mdc-button__label span {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.mdc-button mat-icon {
  flex-shrink: 0;
}

.cdk-overlay-pane {
  width: auto !important;
  min-width: 0 !important;
  max-width: min(90vw, 100%) !important;
}

/* reCAPTCHA badge positioning and clickability fix */
.grecaptcha-badge {
  bottom: 120px !important; /* Move up from bottom to avoid UI elements */
}

/* Target the actual clickable div inside the badge */
.grecaptcha-badge > div {
  pointer-events: auto !important;
  cursor: pointer !important;
}

/* Target any iframe inside the badge */
.grecaptcha-badge iframe {
  pointer-events: auto !important;
}

/* Alternative: Hide the badge entirely if preferred (only if you show the reCAPTCHA terms elsewhere) */
/* 
.grecaptcha-badge {
  visibility: hidden;
}
*/
