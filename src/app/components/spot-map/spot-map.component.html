@if(mapsApiService.isApiLoaded()) {
<app-google-map-2d
  #map
  id="map"
  [zoom]="mapZoom"
  [focusZoom]="focusZoom()"
  [spots]="visibleSpots()"
  [dots]="visibleDots()"
  [highlightedSpots]="visibleHighlightedSpots()"
  [markers]="visibleMarkers()"
  [selectedSpot]="selectedSpot()"
  [selectedChallenge]="selectedChallenge()"
  [selectedSpotChallenges]="selectedSpotChallenges()"
  [polygons]="polygons()"
  [selectedMarker]="selectedMarker()"
  [isEditing]="isEditing()"
  [showGeolocation]="showGeolocation"
  [boundRestriction]="boundRestriction"
  [minZoom]="minZoom"
  [mapStyle]="mapStyle() ?? 'roadmap'"
  [showSpotPreview]="showSpotPreview()"
  [bottomSheetOffset]="bottomSheetOffset()"
  (boundsChange)="mapBoundsChanged($event, mapZoom)"
  (visibleTilesChange)="visibleTilesChanged($event)"
  (zoomChange)="zoomChanged($event)"
  (mapClick)="isClickable() ? mapClick($event) : null"
  (spotClick)="isClickable() ? openSpotByWhateverMeansNecessary($event) : null"
  (centerChange)="mapCenter = $event"
  (hasGeolocationChange)="hasGeolocationChange.emit($event)"
  (markerClickEvent)="onMarkerClickFromMap($event)"
></app-google-map-2d>

}
