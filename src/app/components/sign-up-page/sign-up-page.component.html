<div class="container" style="padding-top: 80px">
  <!-- <div class="row justify-content-center">
    <div class="col-md-8">
      <div class="alert alert-danger" color="">
        Sign-up is currently set to invite-only at this stage of development.
        You will only be able to sign up if you have been invited and have a
        valid invite code.
      </div>
    </div>
  </div> -->
  <div class="row justify-content-center">
    <div class="col-md-12 text-center">
      <h3 class="mat-h2 text-center" i18n>Sign in instead?</h3>

      <div class="oauth-buttons d-flex flex-row justify-content-center">
        <button mat-flat-button routerLink="/sign-in">
          <mat-icon>login</mat-icon><span i18n>Sign in</span>
        </button>
        <button mat-stroked-button (click)="trySignInApple()">
          <span class="d-flex gap-2 align-items-center">
            <img
              ngSrc="assets/logos/apple_icon_dark.png"
              height="16"
              width="16"
              alt="ï£¿"
            />
            Apple</span
          >
        </button>
        <button mat-stroked-button (click)="trySignInGoogle()">
          <span class="d-flex gap-2 align-items-center">
            <img
              ngSrc="assets/logos/google_icon.png"
              height="16"
              width="16"
              alt="G"
            />
            Google</span
          >
        </button>
      </div>
    </div>
  </div>
  <div class="row justify-content-center">
    <div class="col-md-8">
      <h2 class="mat-title-large mt-5" i18n>Create a new account</h2>
      <form
        [formGroup]="createAccountForm!"
        class="d-flex flex-column"
        (ngSubmit)="tryCreateAccount(createAccountForm!.value)"
      >
        <mat-form-field appearance="outline">
          <mat-label i18n>E-Mail address</mat-label>
          <input matInput type="email" formControlName="email" required />
          <mat-hint i18n
            >The e-mail address needs to be verified later.</mat-hint
          >
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label i18n>Password</mat-label>
          <input matInput type="password" formControlName="password" required />
          <mat-hint i18n>Choose a strong password.</mat-hint>
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label i18n>Repeat Password</mat-label>
          <input
            matInput
            type="password"
            formControlName="repeatPassword"
            required
          />
          <mat-hint i18n
            >The repeated password needs to match the password
            entered.</mat-hint
          >
        </mat-form-field>

        <div class="d-flex flex-column pt-4">
          <h4 class="mat-title-medium" i18n>About you</h4>
          <p class="mat-body" i18n>
            What should we call you? Don't worry, the display name can be
            changed later.
          </p>
          <mat-form-field appearance="outline">
            <mat-label i18n>Display Name</mat-label>
            <input
              matInput
              type="text"
              formControlName="displayName"
              required
            />
          </mat-form-field>
        </div>

        <div class="mt-4 d-flex flex-row align-items-center">
          <mat-checkbox class="mr-3" formControlName="agreeCheck" required
            ><span
              class="mat-body"
              style="white-space: normal"
              i18n="
                terms of service sign up text|Text of the Terms of Service sign
                up text@@tos-signup"
              >By creating an account, you agree to our
              <a routerLink="/terms-of-service">Terms of Service</a> and confirm
              you will contribute content under the license terms described
              within.</span
            >
          </mat-checkbox>
        </div>

        <div id="reCaptchaDiv" class="d-flex justify-content-center"></div>

        @if(signUpError) {
        <div class="mt-3 alert alert-danger">
          {{ signUpError }}
        </div>
        }

        <div class="mt-5 mb-5 d-flex flex-row justify-content-center">
          <button
            mat-flat-button
            color="accent"
            type="submit"
            [disabled]="isSubmitting"
          >
            <mat-icon>person_add</mat-icon>
            <span i18n>Create Account</span>
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
